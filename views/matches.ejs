<%- include('head'); %>
<body>
  <%- include('navbar', { loggedIn: loggedIn }) %>
  <h1><%= title %></h1>
  <div class="container">
    <form action="/api/user/predictions" method="POST">
      <div class="matches-table-rows">
        <% meme.forEach((game) => { %> <% game.matches.forEach((match) => { %>
        <div class="matches-match">
          <div class="matches-team">
            <img src="../images/<%= match[0].image %>" alt="<%= match[0].teamName %>" class="matches-logo" />
            <div class="matches-team-name">
              <%= match[0].teamName %>
            </div>
          </div>

          <div class="spinBox">
            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up" type="button"></button>
            <input readonly type="number" min="0" step="10" value="0" name=<%= match[0].teamID %> />
            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down" type="button"></button>
          </div>

          <img class="matches-versus" src="/images/broom_versus_white.png" alt="Versus sign" />

          <div class="spinBox">
            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up" type="button"></button>
            <input readonly type="number" min="0" step="10" value="0" name=<%= match[1].teamID %> />
            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down" type="button"></button>
          </div>

          <div class="matches-team">
            <img src="../images/<%= match[1].image %>" alt="<%= match[1].teamName %>" class="matches-logo" />
            <div class="matches-team-name">
              <%= match[1].teamName %>
            </div>
          </div>
        </div>
        <% }) %> <% }) %>
      </div>

      <div class="snitch">
        <div class="snitch-title"><p>Golden Snitch Prediction</p></div>
        <img src="../images/SNITCH.png" alt="" class="snitch-logo" />
        <div class="snitch-sentence">
          <div class="snitch-text">
            <p>Across all current matches, I predict that team</p>
          </div>
          <div class="guess-snitch-team">
            <select name="firstGoldenSnitchTeamPrediction">
              <option selected value="base">Select a team</option>
              <% meme.forEach((game) => { %> <% game.matches.forEach((match) => { %>
                <option value="<%= match[0].teamName %>"><%= match[0].teamName %></option>
                <option value="<%= match[1].teamName %>"><%= match[1].teamName %></option>
              <% }) %> <% }) %>
            </select>
          </div>
          <div class="snitch-text">
            <p>will catch the first snitch in</p>
          </div>
          <div class="snitch-time">
            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="snitch-up" type="button"></button>
            <input id="snitch-spinBox" name="firstGoldenSnitchTimePrediction" readonly type="number" min="1" step="1" value="1" name="snitchGuess" />
            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="snitch-down" type="button"></button>
          </div>
          <div class="snitch-text">
            <p>minute(s)</p>
          </div>
        </div>
      </div>

      <div class="submit-betting-scores">
        <input type="submit" value="Submit Scores" z-index="3000" />
      </div>
    </form>
  </div>

  <%- include('footer'); %>
</body>
